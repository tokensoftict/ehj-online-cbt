import{a as N,r as i,j as e,e as D,P,c as R,L as H}from"./app-CtAzDAef.js";import{C as f,c as p,a as w,b}from"./card-CnZlrcc9.js";import{B as g}from"./button-D-lROaPr.js";import{C as J}from"./clock-D3sdTI_v.js";import{B as O}from"./book-open-DpMhFfWk.js";/* empty css            *//**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],V=N("ChevronLeft",K);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],z=N("ChevronRight",F);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],U=N("Send",G);var y="Progress",C=100,[W,ue]=D(y),[X,Y]=W(y),M=i.forwardRef((t,s)=>{const{__scopeProgress:u,value:c=null,max:d,getValueLabel:m=Z,...x}=t;(d||d===0)&&!I(d)&&console.error(ee(`${d}`,"Progress"));const r=I(d)?d:C;c!==null&&!T(c,r)&&console.error(se(`${c}`,"Progress"));const n=T(c,r)?c:null,l=v(n)?m(n,r):void 0;return e.jsx(X,{scope:u,value:n,max:r,children:e.jsx(P.div,{"aria-valuemax":r,"aria-valuemin":0,"aria-valuenow":v(n)?n:void 0,"aria-valuetext":l,role:"progressbar","data-state":S(n,r),"data-value":n??void 0,"data-max":r,...x,ref:s})})});M.displayName=y;var E="ProgressIndicator",Q=i.forwardRef((t,s)=>{const{__scopeProgress:u,...c}=t,d=Y(E,u);return e.jsx(P.div,{"data-state":S(d.value,d.max),"data-value":d.value??void 0,"data-max":d.max,...c,ref:s})});Q.displayName=E;function Z(t,s){return`${Math.round(t/s*100)}%`}function S(t,s){return t==null?"indeterminate":t===s?"complete":"loading"}function v(t){return typeof t=="number"}function I(t){return v(t)&&!isNaN(t)&&t>0}function T(t,s){return v(t)&&!isNaN(t)&&t<=s&&t>=0}function ee(t,s){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${s}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${C}\`.`}function se(t,s){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${s}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${C} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var $=M,te=Q;const q=i.forwardRef(({className:t,value:s,...u},c)=>e.jsx($,{ref:c,className:R("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...u,children:e.jsx(te,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));q.displayName=$.displayName;const k={Mathematics:[{id:"math-1",subject:"Mathematics",question:"Solve x² + 5x + 6 = 0",options:{A:"x = -2 or -3",B:"x = 2 or 3",C:"x = -1 or -6",D:"x = 1 or 6"},correctAnswer:"A",explanation:"Factor the quadratic: (x + 2)(x + 3) = 0, so x = -2 or -3."},{id:"math-2",subject:"Mathematics",question:"What is the derivative of f(x) = 3x² + 2x - 1?",options:{A:"6x + 2",B:"3x + 2",C:"6x - 1",D:"3x² + 2"},correctAnswer:"A",explanation:"Using the power rule: f′(x) = 6x + 2."}],Physics:[{id:"phy-1",subject:"Physics",question:"What is the formula for kinetic energy?",options:{A:"KE = mgh",B:"KE = ½mv²",C:"KE = mc²",D:"KE = Fd"},correctAnswer:"B",explanation:"Kinetic energy is given by KE = ½mv²."}]},re=()=>{const[t,s]=i.useState(null),u=i.useCallback(r=>{const n=r&&k[r]?r:"Mathematics",l=k[n]||[];s({subject:n,questions:l,currentQuestionIndex:0,answers:{},startTime:new Date,isCompleted:!1})},[]);i.useEffect(()=>{t||u("Mathematics")},[t,u]);const c=i.useCallback((r,n)=>{s(l=>l&&{...l,answers:{...l.answers,[r]:n}})},[]),d=i.useCallback(r=>{s(n=>!n||r<0||r>=n.questions.length?n:{...n,currentQuestionIndex:r})},[]),m=i.useCallback(()=>{s(r=>{if(!r)return r;const n=r.questions.reduce((l,h)=>{const j=r.answers[h.id];return l+(j===h.correctAnswer?1:0)},0);return{...r,endTime:new Date,score:n,isCompleted:!0}})},[]),x=i.useCallback(()=>{s(null)},[]);return{currentTest:t,startTest:u,answerQuestion:c,goToQuestion:d,submitTest:m,resetTest:x}};function me(){const t="mathematics",{currentTest:s,answerQuestion:u,goToQuestion:c,submitTest:d}=re(),[m,x]=i.useState(null),[r,n]=i.useState(0);if(i.useEffect(()=>{const a=document.createElement("script");a.src="https://polyfill.io/v3/polyfill.min.js?features=es6",document.head.appendChild(a);const o=document.createElement("script");return o.src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js",o.async=!0,document.head.appendChild(o),o.onload=()=>{window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]]},options:{skipHtmlTags:["script","noscript","style","textarea","pre"]}}},()=>{document.head.removeChild(a),document.head.removeChild(o)}},[]),i.useEffect(()=>{const a=setInterval(()=>{n(Date.now()-s.startTime.getTime())},1e3);return()=>clearInterval(a)},[s]),i.useEffect(()=>{window.MathJax&&window.MathJax.typesetPromise&&window.MathJax.typesetPromise()},[s?.currentQuestionIndex]),i.useEffect(()=>{if(s&&s.questions.length>0){const a=s.questions[s.currentQuestionIndex],o=s.answers[a.id];x(o||null)}},[s?.currentQuestionIndex,s?.answers]),!s||s.questions.length===0)return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background",children:e.jsx(f,{children:e.jsxs(p,{className:"p-6 text-center",children:[e.jsxs("p",{className:"text-muted-foreground",children:["No questions available for ",t]}),e.jsx(g,{onClick:()=>{},className:"mt-4",children:e.jsx(H,{href:"/student/dashboard",className:"flex w-full items-center justify-center",children:"Back to Dashboard"})})]})})});const l=s.questions[s.currentQuestionIndex],h=(s.currentQuestionIndex+1)/s.questions.length*100,j=a=>{const o=Math.floor(a/1e3)%60;return`${Math.floor(a/(1e3*60)).toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}`},_=a=>{x(a),u(l.id,a)},A=()=>{s.currentQuestionIndex<s.questions.length-1&&c(s.currentQuestionIndex+1)},L=()=>{s.currentQuestionIndex>0&&c(s.currentQuestionIndex-1)},B=()=>{Object.keys(s.answers).length!==0&&d()};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-college-maroon-light via-background to-secondary",children:[e.jsx("header",{className:"bg-white shadow-card border-b",children:e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"flex justify-between items-center h-16",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-white rounded-lg p-1 shadow-card",children:e.jsx("img",{src:"https://www.qualitexpharma.com/qualitex_logo.png",alt:"EHJ Model College Logo",className:"w-full h-full object-contain"})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-lg font-semibold text-college-maroon-dark",children:[s.subject," Test"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"EHJ CBT System"})]})]}),e.jsx("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(J,{className:"w-4 h-4 mr-1"}),j(r)]})})]})})}),e.jsxs("main",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-college-maroon-dark",children:["Question ",s.currentQuestionIndex+1," of ",s.questions.length]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[Math.round(h),"% Complete"]})]}),e.jsx(q,{value:h,className:"h-2"})]}),l.passage&&e.jsxs(f,{className:"shadow-card mb-6 border-l-4 border-l-college-maroon",children:[e.jsx(w,{children:e.jsxs(b,{className:"text-lg text-college-maroon-dark flex items-center",children:[e.jsx(O,{className:"w-5 h-5 mr-2"}),"Reading Passage"]})}),e.jsx(p,{children:e.jsx("div",{className:"prose prose-sm max-w-none text-muted-foreground leading-relaxed",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:l.passage.replace(/\n/g,"<br>")}})})})]}),e.jsxs(f,{className:"shadow-elevation mb-6",children:[e.jsx(w,{children:e.jsx(b,{className:"text-xl text-college-maroon-dark",children:e.jsx("div",{dangerouslySetInnerHTML:{__html:l.question}})})}),e.jsx(p,{className:"space-y-4",children:Object.entries(l.options).map(([a,o])=>e.jsxs(g,{variant:m===a?"default":"outline",className:`w-full p-6 h-auto text-left justify-start text-wrap ${m===a?"from-primary to-college-maroon text-white border-primary":"hover:bg-college-maroon-light hover:border-college-maroon"}`,onClick:()=>_(a),children:[e.jsx("span",{className:`w-8 h-8 rounded-full flex items-center justify-center mr-4 flex-shrink-0 font-semibold ${m===a?"bg-white text-primary":"bg-college-maroon-light text-college-maroon-dark"}`,children:a}),e.jsx("span",{dangerouslySetInnerHTML:{__html:o}})]},a))})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(g,{variant:"outline",onClick:L,disabled:s.currentQuestionIndex===0,className:"border-college-maroon text-college-maroon hover:bg-college-maroon hover:text-white",children:[e.jsx(V,{className:"w-4 h-4 mr-2"}),"Previous"]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Answered: ",Object.keys(s.answers).length," / ",s.questions.length]}),s.currentQuestionIndex===s.questions.length-1?e.jsxs(g,{onClick:B,className:"from-success to-green-600 hover:from-green-600 hover:to-green-700",children:[e.jsx(U,{className:"w-4 h-4 mr-2"}),"Submit Test"]}):e.jsxs(g,{onClick:A,className:"from-primary to-college-maroon hover:from-primary-hover hover:to-college-maroon-dark",children:["Next",e.jsx(z,{className:"w-4 h-4 ml-2"})]})]}),e.jsxs(f,{className:"mt-6 shadow-card",children:[e.jsx(w,{children:e.jsx(b,{className:"text-lg text-college-maroon-dark",children:"Question Navigation"})}),e.jsx(p,{children:e.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-10 gap-2",children:s.questions.map((a,o)=>e.jsx(g,{variant:o===s.currentQuestionIndex?"default":"outline",size:"sm",onClick:()=>c(o),className:`w-10 h-10 p-0 ${o===s.currentQuestionIndex?"from-primary to-college-maroon":s.answers[s.questions[o].id]?"bg-success text-black border-success hover:bg-success/90":"hover:bg-college-maroon-light hover:border-college-maroon"}`,children:o+1},o))})})]})]}),e.jsx("footer",{className:"border-t bg-card/30 py-8 px-4",children:e.jsx("div",{className:"container mx-auto max-w-6xl text-center",children:e.jsx("p",{className:"text-muted-foreground",children:"© 2024 EHJ Model College Ilorin. All rights reserved. | Computer Based Testing Platform"})})})]})}export{me as default};
