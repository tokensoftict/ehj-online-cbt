import{u as E,r as i,j as s,F}from"./app-CtAzDAef.js";import{C as A,a as D,b as v,c as w}from"./card-CnZlrcc9.js";import{B as j}from"./button-D-lROaPr.js";import{L}from"./label-DWKJ3nD5.js";import{I}from"./input-DEe4e_Dc.js";import{T as P,a as H,b as g,c as N,d as U,e as C}from"./table-CixfBmrM.js";import B from"./createdialog-BdxWT5hU.js";import M from"./tableactions-pgJoeb5o.js";import J from"./layout-By73npNH.js";import R from"./tabnav-C_wM3AL7.js";import{D as $}from"./dialog-Ckpon0xJ.js";import{I as k}from"./input-error-CGpKbW0q.js";import{q as c,a as _}from"./index-CMWG4mbA.js";import{P as G}from"./plus-D5H_Wf7d.js";import{L as O}from"./loader-circle-CdxccnYf.js";/* empty css            */import"./index-Cj69SuXa.js";import"./floating-ui.react-dom-BBZsKlhS.js";import"./AdminLayout-BlngJDZy.js";import"./button-CaO6cyuZ.js";import"./book-open-DpMhFfWk.js";import"./users-TaYtMwUf.js";import"./log-out-C5iP-ga2.js";import"./index-CgqPNh__.js";const a=e=>({url:a.url(e),method:"get"});a.definition={methods:["get","head"],url:"/admin/class-names"};a.url=e=>a.definition.url+c(e);a.get=e=>({url:a.url(e),method:"get"});a.head=e=>({url:a.url(e),method:"head"});const h=e=>({action:a.url(e),method:"get"});h.get=e=>({action:a.url(e),method:"get"});h.head=e=>({action:a.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});a.form=h;const l=e=>({url:l.url(e),method:"post"});l.definition={methods:["post"],url:"/admin/class-names"};l.url=e=>l.definition.url+c(e);l.post=e=>({url:l.url(e),method:"post"});const b=e=>({action:l.url(e),method:"post"});b.post=e=>({action:l.url(e),method:"post"});l.form=b;const t=(e,r)=>({url:t.url(e,r),method:"put"});t.definition={methods:["put","patch"],url:"/admin/class-names/{class_name}"};t.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={class_name:e}),Array.isArray(e)&&(e={class_name:e[0]}),e=_(e);const m={class_name:e.class_name};return t.definition.url.replace("{class_name}",m.class_name.toString()).replace(/\/+$/,"")+c(r)};t.put=(e,r)=>({url:t.url(e,r),method:"put"});t.patch=(e,r)=>({url:t.url(e,r),method:"patch"});const p=(e,r)=>({action:t.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});p.put=(e,r)=>({action:t.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});p.patch=(e,r)=>({action:t.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...r?.query??r?.mergeQuery??{}}}),method:"post"});t.form=p;const o=(e,r)=>({url:o.url(e,r),method:"delete"});o.definition={methods:["delete"],url:"/admin/class-names/{class_name}"};o.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={class_name:e}),Array.isArray(e)&&(e={class_name:e[0]}),e=_(e);const m={class_name:e.class_name};return o.definition.url.replace("{class_name}",m.class_name.toString()).replace(/\/+$/,"")+c(r)};o.delete=(e,r)=>({url:o.url(e,r),method:"delete"});const Q=(e,r)=>({action:o.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});Q.delete=(e,r)=>({action:o.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});o.form=Q;const u={store:l,update:t,destroy:o};function xe({classNames:e}){const{toast:r}=E(),[m,f]=i.useState(),[T,y]=i.useState(u.store.form()),S=function(d){f(d)},[x,n]=i.useState(!1);return i.useEffect(()=>{m?.id!==void 0?(y(u.update.form({class_name:m.id})),n(!0)):y(u.store.form())},[m]),s.jsx(J,{children:s.jsxs(s.Fragment,{children:[s.jsx(R,{active:"/admin/class-names"}),s.jsxs(A,{children:[s.jsxs(D,{className:"flex flex-row items-center justify-between",children:[s.jsxs("div",{children:[s.jsx(v,{children:"Class Names"}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Major class names (JSS, SSS)"})]}),s.jsxs(j,{onClick:()=>{f(void 0),n(!x)},children:[s.jsx(G,{className:"h-4 w-4 mr-2"}),"Add Class Name"]})]}),s.jsx(w,{children:s.jsxs(P,{children:[s.jsx(H,{children:s.jsxs(g,{children:[s.jsx(N,{children:"Name"}),s.jsx(N,{className:"text-right",children:"Actions"})]})}),s.jsx(U,{children:e.map(d=>s.jsxs(g,{children:[s.jsx(C,{className:"font-medium",children:d.name}),s.jsx(C,{className:"text-right",children:s.jsx(M,{onEdit:()=>{S(d)},deleteUrl:u.destroy.url({class_name:d.id}),onDeleteSuccess:()=>r({title:"Item Deleted",description:"Item has been deleted successfully."})})})]},d.id))})]})})]}),s.jsx(B,{title:m?.id?"Update Class Name":"Create New Class Name",open:x,setOpen:n,children:s.jsx(F,{...T,className:"space-y-6",onSuccess:()=>{r({title:"Class Management",description:"Class Name has been "+(m?.id?"updated":"created")+" successfully."}),n(!1)},children:({processing:d,errors:q})=>s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid gap-4 py-4",children:s.jsxs("div",{className:"grid gap-2",children:[s.jsx(L,{htmlFor:"groupName",children:"Group Name"}),s.jsx(I,{id:"groupName",defaultValue:m?.name??"",name:"name",placeholder:"e.g., Junior Secondary School"},m?.id??"new"),s.jsx(k,{message:q.name})]})}),s.jsx($,{children:s.jsxs(j,{disabled:d,type:"submit",children:[d&&s.jsx(O,{className:"h-4 w-4 animate-spin"}),"  Save"]})})]})})})]})})}export{xe as default};
