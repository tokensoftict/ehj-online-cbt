import{u as E,r as i,j as t,F}from"./app-CtAzDAef.js";import{C as A,a as G,b as D,c as v}from"./card-CnZlrcc9.js";import{B as x}from"./button-D-lROaPr.js";import{L as w}from"./label-DWKJ3nD5.js";import{I as L}from"./input-DEe4e_Dc.js";import{T as I,a as P,b as j,c as _,d as H,e as C}from"./table-CixfBmrM.js";import U from"./createdialog-BdxWT5hU.js";import B from"./tableactions-pgJoeb5o.js";import M from"./layout-By73npNH.js";import J from"./tabnav-C_wM3AL7.js";import{q as n,a as b}from"./index-CMWG4mbA.js";import{D as R}from"./dialog-Ckpon0xJ.js";import{I as $}from"./input-error-CGpKbW0q.js";import{P as k}from"./plus-D5H_Wf7d.js";import{L as O}from"./loader-circle-CdxccnYf.js";/* empty css            */import"./index-Cj69SuXa.js";import"./floating-ui.react-dom-BBZsKlhS.js";import"./AdminLayout-BlngJDZy.js";import"./button-CaO6cyuZ.js";import"./book-open-DpMhFfWk.js";import"./users-TaYtMwUf.js";import"./log-out-C5iP-ga2.js";import"./index-CgqPNh__.js";const o=e=>({url:o.url(e),method:"get"});o.definition={methods:["get","head"],url:"/admin/class-groups"};o.url=e=>o.definition.url+n(e);o.get=e=>({url:o.url(e),method:"get"});o.head=e=>({url:o.url(e),method:"head"});const p=e=>({action:o.url(e),method:"get"});p.get=e=>({action:o.url(e),method:"get"});p.head=e=>({action:o.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});o.form=p;const l=e=>({url:l.url(e),method:"post"});l.definition={methods:["post"],url:"/admin/class-groups"};l.url=e=>l.definition.url+n(e);l.post=e=>({url:l.url(e),method:"post"});const Q=e=>({action:l.url(e),method:"post"});Q.post=e=>({action:l.url(e),method:"post"});l.form=Q;const s=(e,r)=>({url:s.url(e,r),method:"put"});s.definition={methods:["put","patch"],url:"/admin/class-groups/{class_group}"};s.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={class_group:e}),Array.isArray(e)&&(e={class_group:e[0]}),e=b(e);const a={class_group:e.class_group};return s.definition.url.replace("{class_group}",a.class_group.toString()).replace(/\/+$/,"")+n(r)};s.put=(e,r)=>({url:s.url(e,r),method:"put"});s.patch=(e,r)=>({url:s.url(e,r),method:"patch"});const h=(e,r)=>({action:s.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});h.put=(e,r)=>({action:s.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PUT",...r?.query??r?.mergeQuery??{}}}),method:"post"});h.patch=(e,r)=>({action:s.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...r?.query??r?.mergeQuery??{}}}),method:"post"});s.form=h;const u=(e,r)=>({url:u.url(e,r),method:"delete"});u.definition={methods:["delete"],url:"/admin/class-groups/{class_group}"};u.url=(e,r)=>{(typeof e=="string"||typeof e=="number")&&(e={class_group:e}),Array.isArray(e)&&(e={class_group:e[0]}),e=b(e);const a={class_group:e.class_group};return u.definition.url.replace("{class_group}",a.class_group.toString()).replace(/\/+$/,"")+n(r)};u.delete=(e,r)=>({url:u.url(e,r),method:"delete"});const N=(e,r)=>({action:u.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});N.delete=(e,r)=>({action:u.url(e,{[r?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...r?.query??r?.mergeQuery??{}}}),method:"post"});u.form=N;const c={store:l,update:s,destroy:u};function ge({classGroups:e}){const{toast:r}=E(),[a,f]=i.useState(),[T,y]=i.useState(c.store.form()),S=function(m){f(m)},[g,d]=i.useState(!1);return i.useEffect(()=>{a?.id!==void 0?(y(c.update.form({class_group:a.id})),d(!0)):y(c.store.form())},[a]),t.jsx(M,{children:t.jsxs(t.Fragment,{children:[t.jsx(J,{active:"/admin/class-groups"}),t.jsxs(A,{children:[t.jsxs(G,{className:"flex flex-row items-center justify-between",children:[t.jsxs("div",{children:[t.jsx(D,{children:"Class Groups"}),t.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Major class groupings (Junior Secondary School, Senior Secondary School)"})]}),t.jsxs(x,{onClick:()=>{f(void 0),d(!g)},children:[t.jsx(k,{className:"h-4 w-4 mr-2"}),"Add Group"]})]}),t.jsx(v,{children:t.jsxs(I,{children:[t.jsx(P,{children:t.jsxs(j,{children:[t.jsx(_,{children:"Name"}),t.jsx(_,{className:"text-right",children:"Actions"})]})}),t.jsx(H,{children:e.map(m=>t.jsxs(j,{children:[t.jsx(C,{className:"font-medium",children:m.name}),t.jsx(C,{className:"text-right",children:t.jsx(B,{onEdit:()=>{S(m)},deleteUrl:c.destroy.url({class_group:m.id}),onDeleteSuccess:()=>r({title:"Item Deleted",description:"Item has been deleted successfully."})})})]},m.id))})]})})]}),t.jsx(U,{title:a?.id?"Update Class Group":"Create New Class Group",open:g,setOpen:d,children:t.jsx(F,{...T,className:"space-y-6",onSuccess:()=>{r({title:"Class Management",description:"Class Group has been "+(a?.id?"updated":"created")+" successfully."}),d(!1)},children:({processing:m,errors:q})=>t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"grid gap-4 py-4",children:t.jsxs("div",{className:"grid gap-2",children:[t.jsx(w,{htmlFor:"groupName",children:"Group Name"}),t.jsx(L,{id:"groupName",defaultValue:a?.name??"",name:"name",placeholder:"e.g., Junior Secondary School"},a?.id??"new"),t.jsx($,{message:q.name})]})}),t.jsx(R,{children:t.jsxs(x,{disabled:m,type:"submit",children:[m&&t.jsx(O,{className:"h-4 w-4 animate-spin"}),"  Save"]})})]})})})]})})}export{ge as default};
